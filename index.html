<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>K53 Learner Exam Simulator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f4f4;
  padding: 20px;
}

.card {
  background: white;
  padding: 20px;
  border-radius: 10px;
  max-width: 500px;
  margin: auto;
}

h1 {
  text-align: center;
}

.info {
  display: flex;
  justify-content: space-between;
  margin-bottom: 15px;
  font-weight: bold;
}

button {
  display: block;
  width: 100%;
  margin: 8px 0;
  padding: 12px;
  font-size: 16px;
  border-radius: 6px;
  border: 1px solid #ccc;
}

button:hover {
  background: #eaeaea;
}
</style>
</head>

<body>

<div class="card">
  <h1>K53 Learner Exam</h1>

  <div class="info">
    <span id="counter">Question 1</span>
    <span id="timer">Time: 60s</span>
  </div>

  <p id="question"></p>

  <div id="answers"></div>

  <p id="feedback"></p>
</div>

<script>
const questions = [
  {
    q: "What does a red traffic light mean?",
    options: ["Stop", "Go", "Slow down"],
    correct: 0
  },
  {
    q: "What does a stop sign mean?",
    options: ["Slow down", "Stop completely", "Yield"],
    correct: 1
  },
  {
    q: "What should you do at a pedestrian crossing?",
    options: ["Hoot", "Stop for pedestrians", "Speed up"],
    correct: 1
  }
];

let index = 0;
let score = 0;
let timeLeft = 60;
let timer;

function startTimer() {
  timer = setInterval(() => {
    timeLeft--;
    document.getElementById("timer").textContent = "Time: " + timeLeft + "s";
    if (timeLeft <= 0) endExam();
  }, 1000);
}

function loadQuestion() {
  document.getElementById("feedback").textContent = "";
  document.getElementById("counter").textContent =
    `Question ${index + 1} of ${questions.length}`;

  const q = questions[index];
  document.getElementById("question").textContent = q.q;

  const answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";

  q.options.forEach((opt, i) => {
    const btn = document.createElement("button");
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(i);
    answersDiv.appendChild(btn);
  });
}

function checkAnswer(choice) {
  if (choice === questions[index].correct) {
    score++;
    document.getElementById("feedback").textContent = "Correct ✅";
  } else {
    document.getElementById("feedback").textContent = "Wrong ❌";
  }

  setTimeout(() => {
    index++;
    if (index < questions.length) {
      loadQuestion();
    } else {
      endExam();
    }
  }, 800);
}

function endExam() {
  clearInterval(timer);
  document.querySelector(".card").innerHTML = `
    <h1>Exam Finished</h1>
    <p>Your score: ${score} / ${questions.length}</p>
    <p>${score >= 2 ? "PASS ✅" : "FAIL ❌"}</p>
  `;
}

startTimer();
loadQuestion();
</script>

</body>
</html>
